<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>NMMSIPHU | Dashboard</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <!-- Bootstrap 3.3.2 -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <!-- Font Awesome Icons -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <!-- Ionicons -->
    <link href="http://code.ionicframework.com/ionicons/2.0.0/css/ionicons.min.css" rel="stylesheet" type="text/css" />
    <!-- DATA TABLES -->
    <link href="plugins/datatables/dataTables.bootstrap.css" rel="stylesheet" type="text/css">
    <!-- Morris chart -->
    <link href="plugins/morris/morris.css" rel="stylesheet" type="text/css" />
    <!-- jvectormap -->
    <link href="plugins/jvectormap/jquery-jvectormap-1.2.2.css" rel="stylesheet" type="text/css" />
    <!-- Daterange picker -->
    <link href="plugins/daterangepicker/daterangepicker-bs3.css" rel="stylesheet" type="text/css" />
    <!-- Theme style -->
    <link href="dist/css/AdminLTE.min.css" rel="stylesheet" type="text/css" />
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
    <link href="dist/css/skins/_all-skins.min.css" rel="stylesheet" type="text/css" />

    <link href="dist/css/custom.css" rel="stylesheet" type="text/css" />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>
  <body class="skin-blue">
    <div class="wrapper">

      <header class="main-header">
        <!-- Logo -->
        <a href="index2.html" class="logo"><b>NMMSIPHU</b></a>
        <!-- Header Navbar: style can be found in header.less -->
        <nav class="navbar navbar-static-top" role="navigation">
          <!-- Sidebar toggle button-->
          <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
            <span class="sr-only">Toggle navigation</span>
          </a>
          <!-- Navbar Right Menu -->
          <div class="navbar-custom-menu">
            <ul class="nav navbar-nav">
              <!-- User Account: style can be found in dropdown.less -->
              <li class="dropdown user user-menu">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <img src="dist/img/user2-160x160.jpg" class="user-image" alt="User Image"/>
                  <span class="hidden-xs">Peter Kovacs</span>
                </a>
                <ul class="dropdown-menu">
                  <!-- User image -->
                  <li class="user-header">
                    <img src="dist/img/user2-160x160.jpg" class="img-circle" alt="User Image" />
                    <p>
                      Peter Kovacs - Software Engineer
                      <small>Member since Nov. 2012</small>
                    </p>
                  </li>
                  <!-- Menu Body -->
                  <!--
                  <li class="user-body">
                    <div class="col-xs-4 text-center">
                      <a href="#">Followers</a>
                    </div>
                    <div class="col-xs-4 text-center">
                      <a href="#">Sales</a>
                    </div>
                    <div class="col-xs-4 text-center">
                      <a href="#">Friends</a>
                    </div>
                  </li>-->
                  <!-- Menu Footer-->
                  <li class="user-footer">
                    <div class="pull-left">
                      <a href="#" class="btn btn-default btn-flat">Settings</a>
                    </div>
                    <div class="pull-right">
                      <a href="#" class="btn btn-default btn-flat">Sign out</a>
                    </div>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </nav>
      </header>
      <!-- Left side column. contains the logo and sidebar -->
      <aside class="main-sidebar">
        <!-- sidebar: style can be found in sidebar.less -->
        <section class="sidebar">
          <!-- Sidebar user panel -->

          <!-- sidebar menu: : style can be found in sidebar.less -->
          <ul class="sidebar-menu">
            <li class="header">MAIN NAVIGATION</li>
            <li>
                <a href="index.html">
                    <i class="fa fa-dashboard"></i> <span>Dashboard</span>
                    <small class="label pull-right bg-red">4</small>
                </a>
            </li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-table"></i> <span>Pronto</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li><a href="pages/tables/simple.html"><i class="fa fa-circle-o"></i> My prontos</a></li>
                <li><a href="pages/tables/data.html"><i class="fa fa-circle-o"></i> NMMSIPHU prontos</a></li>
              </ul>
            </li>
            <li class="active">
                <a href="freeze.html">
                    <i class="fa  fa-code-fork"></i> <span>Freeze (detect automatically)</span>
                </a>
            </li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-table"></i> <span>DCIF</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li><a href="pages/tables/simple.html"><i class="fa fa-circle-o"></i> Add Project (integrate into pronto)</a></li>
                <li><a href="pages/tables/data.html"><i class="fa fa-circle-o"></i> Delete Project (integrate into pronto)</a></li>
              </ul>
            </li>



            <li class="header">TEMPLATE STUFF</li>

            <li class="treeview">
              <a href="#">
                <i class="fa fa-files-o"></i>
                <span>Layout Options</span>
                <span class="label label-primary pull-right">4</span>
              </a>
              <ul class="treeview-menu">
                <li><a href="pages/layout/top-nav.html"><i class="fa fa-circle-o"></i> Top Navigation</a></li>
                <li><a href="pages/layout/boxed.html"><i class="fa fa-circle-o"></i> Boxed</a></li>
                <li><a href="pages/layout/fixed.html"><i class="fa fa-circle-o"></i> Fixed</a></li>
                <li><a href="pages/layout/collapsed-sidebar.html"><i class="fa fa-circle-o"></i> Collapsed Sidebar</a></li>
              </ul>
            </li>
            <li>
              <a href="pages/widgets.html">
                <i class="fa fa-th"></i> <span>Widgets</span> <small class="label pull-right bg-green">new</small>
              </a>
            </li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-pie-chart"></i>
                <span>Charts</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li><a href="pages/charts/morris.html"><i class="fa fa-circle-o"></i> Morris</a></li>
                <li><a href="pages/charts/flot.html"><i class="fa fa-circle-o"></i> Flot</a></li>
                <li><a href="pages/charts/inline.html"><i class="fa fa-circle-o"></i> Inline charts</a></li>
              </ul>
            </li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-laptop"></i>
                <span>UI Elements</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li><a href="pages/UI/general.html"><i class="fa fa-circle-o"></i> General</a></li>
                <li><a href="pages/UI/icons.html"><i class="fa fa-circle-o"></i> Icons</a></li>
                <li><a href="pages/UI/buttons.html"><i class="fa fa-circle-o"></i> Buttons</a></li>
                <li><a href="pages/UI/sliders.html"><i class="fa fa-circle-o"></i> Sliders</a></li>
                <li><a href="pages/UI/timeline.html"><i class="fa fa-circle-o"></i> Timeline</a></li>
                <li><a href="pages/UI/modals.html"><i class="fa fa-circle-o"></i> Modals</a></li>
              </ul>
            </li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-edit"></i> <span>Forms</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li><a href="pages/forms/general.html"><i class="fa fa-circle-o"></i> General Elements</a></li>
                <li><a href="pages/forms/advanced.html"><i class="fa fa-circle-o"></i> Advanced Elements</a></li>
                <li><a href="pages/forms/editors.html"><i class="fa fa-circle-o"></i> Editors</a></li>
              </ul>
            </li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-table"></i> <span>Tables</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li><a href="pages/tables/simple.html"><i class="fa fa-circle-o"></i> Simple tables</a></li>
                <li><a href="pages/tables/data.html"><i class="fa fa-circle-o"></i> Data tables</a></li>
              </ul>
            </li>
            <li>
              <a href="pages/calendar.html">
                <i class="fa fa-calendar"></i> <span>Calendar</span>
                <small class="label pull-right bg-red">3</small>
              </a>
            </li>
            <li>
              <a href="pages/mailbox/mailbox.html">
                <i class="fa fa-envelope"></i> <span>Mailbox</span>
                <small class="label pull-right bg-yellow">12</small>
              </a>
            </li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-folder"></i> <span>Examples</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li><a href="pages/examples/invoice.html"><i class="fa fa-circle-o"></i> Invoice</a></li>
                <li><a href="pages/examples/login.html"><i class="fa fa-circle-o"></i> Login</a></li>
                <li><a href="pages/examples/register.html"><i class="fa fa-circle-o"></i> Register</a></li>
                <li><a href="pages/examples/lockscreen.html"><i class="fa fa-circle-o"></i> Lockscreen</a></li>
                <li><a href="pages/examples/404.html"><i class="fa fa-circle-o"></i> 404 Error</a></li>
                <li><a href="pages/examples/500.html"><i class="fa fa-circle-o"></i> 500 Error</a></li>
                <li><a href="pages/examples/blank.html"><i class="fa fa-circle-o"></i> Blank Page</a></li>
              </ul>
            </li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-share"></i> <span>Multilevel</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li><a href="#"><i class="fa fa-circle-o"></i> Level One</a></li>
                <li>
                  <a href="#"><i class="fa fa-circle-o"></i> Level One <i class="fa fa-angle-left pull-right"></i></a>
                  <ul class="treeview-menu">
                    <li><a href="#"><i class="fa fa-circle-o"></i> Level Two</a></li>
                    <li>
                      <a href="#"><i class="fa fa-circle-o"></i> Level Two <i class="fa fa-angle-left pull-right"></i></a>
                      <ul class="treeview-menu">
                        <li><a href="#"><i class="fa fa-circle-o"></i> Level Three</a></li>
                        <li><a href="#"><i class="fa fa-circle-o"></i> Level Three</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="#"><i class="fa fa-circle-o"></i> Level One</a></li>
              </ul>
            </li>
            <li><a href="documentation/index.html"><i class="fa fa-book"></i> Documentation</a></li>
            <li class="header">LABELS</li>
            <li><a href="#"><i class="fa fa-circle-o text-danger"></i> Important</a></li>
            <li><a href="#"><i class="fa fa-circle-o text-warning"></i> Warning</a></li>
            <li><a href="#"><i class="fa fa-circle-o text-info"></i> Information</a></li>
          </ul>
        </section>
        <!-- /.sidebar -->
      </aside>

      <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper">
        <!-- Content Header (Page header) -->
<!--
        <section class="content-header">
          <h1>
            Dashboard
            <small>Version 1.0</small>
          </h1>

        </section>
-->
        <!-- Main content -->
        <section class="content">

<!-- Pronto Status Table row -->
          <div class="row">
            <div class="col-md-12">
              <!-- LIST of currently ongoing sanities -->
              <div class="box box-info">
                  <div class="box-header with-border">
                      <h3 class="box-title">SANITY TABLE - Ongoing Sanities</h3>
                  </div>
                  <div class="box-body">
                      Here we will have a table of currently ongoing sanities with their prontos and image versions.
                      There could also be a button to copy the sanity details as XML for the Sanity guys to paste into their excel files.
                      There should be a button to close/finish the sanity testing. This hides the sanity row (and the freeze row)
                      We might need a new page for listing all previous sanities that we closed.
                      (maybe a View all sanities button in the bottom right, just like on the index page's pronto deadlines box)
                      <br/><br/>
                      A table is probably not the best idea. Better have boxes with the details of each sanity<br/><br/>
                    <table id="sanity_table" class="table table-bordered table-striped table-hover">
                      <thead>
                        <tr>
                          <th>Status</th>
                          <th>Release</th>
                          <th>PRB</th>
                          <th>Version</th>
                          <th>Content</th>
                          <th>Comment</th>
                        </tr>
                      </thead>

                      <tfoot>
                        <tr>
                          <th>Status</th>
                          <th>Release</th>
                          <th>PRB</th>
                          <th>Version</th>
                          <th>Content</th>
                          <th>Comment</th>
                        </tr>
                      </tfoot>
                    </table>
                  </div>
              </div>

              <!-- TEST sanity box -->
              <div class="box box-info">
                  <div class="box-header with-border">
                      <h3 class="box-title">SANITY BOX - Ongoing MSS15 Sanities</h3>
                  </div>
                  <div class="box-body">
                    <table id="sanity_table1" class="table table-bordered table-striped table-hover">
                      <thead>
                        <tr>
                          <th>Status</th>
                          <th>Release</th>
                          <th>PRB</th>
                          <th>Version</th>
                          <th>Content</th>
                          <th>Comment</th>
                        </tr>
                      </thead>

                      <tfoot>
                        <tr>
                          <th>Status</th>
                          <th>Release</th>
                          <th>PRB</th>
                          <th>Version</th>
                          <th>Content</th>
                          <th>Comment</th>
                        </tr>
                      </tfoot>
                    </table>
                  </div>
              </div>

              <!-- TABLE: Pronto Status -->
              <div class="box box-info">
                <div class="box-header with-border">
                  <h3 class="box-title">FREEZE TABLE - Frozen Images</h3>
                </div><!-- /.box-header -->
                <div class="box-body">
                    Here we will have a list of frozen image versions and prbs and the contents (prontos fcs others w/e)
                    Users can select rows from this table to add/remove images to existing sanities or to create a new sanity.
                    These tables can split by release, but have to be able to define multiple releases for PRBs for cases where
                    older release's code is used for newer releases as well. eg. the latest ldc repo is for m16.1, everything newer
                    is compiled from this one. Maybe even support drag and drop later

                    Once a row is added to a sanity, color the row and note that it's currently under sanity testing.
                    Once the sanity is completed, hide the row. We might need a new page to list all freezes, even hidden ones (and their status)
                    (maybe a View all freezes button in the bottom right, just like on the index page's pronto deadlines box)
                    <button id="create_sanity" type="button">Submit Lols!</button>
                  <table id="freeze_table" class="table table-bordered table-striped">
                    <thead>
                      <tr>
                        <th><input name="select_all" value="1" type="checkbox"></th>
                        <th>Freeze Date</th>
                        <th>Release</th>
                        <th>PRB</th>
                        <th>Version</th>
                        <th>Content</th>
                        <th>Comment</th>
                      </tr>
                    </thead>

                    <tfoot>
                      <tr>
                        <th></th>
                         <th>Freeze Date</th>
                        <th>Release</th>
                        <th>PRB</th>
                        <th>Version</th>
                        <th>Content</th>
                        <th>Comment</th>
                      </tr>
                    </tfoot>
                  </table>
                </div><!-- /.box-body -->
              </div><!-- /.box -->
            </div><!-- /.col -->
          </div><!-- /.row -->

<!-- Statistics row -->
          <div class="row">
            <div class="col-md-12">
                <!-- removed content from here -->
            </div><!-- /.col -->
          </div><!-- /.row -->



        </section><!-- /.content -->
      </div><!-- /.content-wrapper -->

      <footer class="main-footer">
        <div class="pull-right hidden-xs">
          <b>Version</b> 1.0
        </div>
          &nbsp;
        <!--<strong>Copyright &copy; 2014-2015 <a href="http://almsaeedstudio.com">Almsaeed Studio</a>.</strong> All rights reserved.-->
      </footer>

    </div><!-- ./wrapper -->

    <!-- jQuery 2.1.3 -->
    <script src="plugins/jQuery/jQuery-2.1.3.min.js"></script>
    <!-- Bootstrap 3.3.2 JS -->
    <script src="bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <!-- DATA TABES SCRIPT -->
    <!--<script src="plugins/datatables/jquery.dataTables.js" type="text/javascript"></script>-->
    <script src="https://cdn.datatables.net/1.10.9/js/jquery.dataTables.min.js" type="text/javascript"></script>

    <script src="plugins/datatables/dataTables.bootstrap.js" type="text/javascript"></script>
    <!-- FastClick -->
    <script src='plugins/fastclick/fastclick.min.js'></script>
    <!-- AdminLTE App -->
    <script src="dist/js/app.min.js" type="text/javascript"></script>
    <!-- Sparkline -->
    <script src="plugins/sparkline/jquery.sparkline.min.js" type="text/javascript"></script>
    <!-- jvectormap -->
    <script src="plugins/jvectormap/jquery-jvectormap-1.2.2.min.js" type="text/javascript"></script>
    <script src="plugins/jvectormap/jquery-jvectormap-world-mill-en.js" type="text/javascript"></script>
    <!-- daterangepicker -->
    <script src="plugins/daterangepicker/daterangepicker.js" type="text/javascript"></script>
    <!-- datepicker -->
    <script src="plugins/datepicker/bootstrap-datepicker.js" type="text/javascript"></script>
    <!-- iCheck -->
    <script src="plugins/iCheck/icheck.min.js" type="text/javascript"></script>
    <!-- SlimScroll 1.3.0 -->
    <script src="plugins/slimScroll/jquery.slimscroll.min.js" type="text/javascript"></script>
    <!-- ChartJS 1.0.1 -->
    <script src="plugins/chartjs/Chart.min.js" type="text/javascript"></script>
    <script src="plugins/chartjs/Chart.StackedBar.js" type="text/javascript"></script>

    <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
    <!--<script src="dist/js/pages/dashboard2.js" type="text/javascript"></script>-->

    <!-- AdminLTE for demo purposes -->
    <script src="dist/js/demo.js" type="text/javascript"></script>

    <script type="text/javascript">

        function assert(condition, message) {
            if (!condition) {
                message = message || "Assertion failed";
                window.alert(message);
                if (typeof Error !== "undefined") {
                    throw new Error(message);
                }
                throw message; // Fallback
            }
        }
        function find_in_array(value, array)
        {
            for (var i = 0, len = array.length; i < len; i++)
            {
                if (array[i] === value)
                    return i;
            }

            return -1;
        }

        function updateSelectAllState(table)
        {
            var $table = table.table().node();
            var $cb_list = $('tbody input[type="checkbox"]', $table);
            var $cb_list_checked = $('tbody input[type="checkbox"]:checked', $table);
            var cb_selectall = $('thead input[name="select_all"]', $table).get(0);

            if (0 === $cb_list_checked.length)
            {
                cb_selectall.checked = false;
                cb_selectall.indeterminate = false;
            }
            else if ($cb_list_checked.length === $cb_list.length)
            {
                cb_selectall.checked = true;
                cb_selectall.indeterminate = false;
            }
            else
            {
                cb_selectall.checked = true;
                cb_selectall.indeterminate = true;
            }
        }

        $(function ()
        {
            var sanityDataSet = [
                {"id":"1","status":"1","rel":"1","prb":"1","env":"1","content":"1","comment":"1"},
                {"id":"2","status":"2","rel":"2","prb":"2","env":"2","content":"2","comment":"2"}
            ];

            var sanity_table = $("#sanity_table").DataTable({
                "processing": true,
                "columns": [
                    { "data": "status" },
                    { "data": "rel" },
                    { "data": "prb" },
                    { "data": "env" },
                    { "data": "content" },
                    { "data": "comment" }
                ],
                "data": sanityDataSet

            });

            var selected_rows = [];

            var freeze_table = $("#freeze_table").DataTable({
                "processing": true,
                "ajax": "freeze_data.json",
                "columns": [
                    {
                        "searchable": false,
                        "orderable": false,
                        "className": "dt-cell-selectrow dt-cell-center",
                        "render": function(data, type, full_object, meta) {
                            if (1 === full_object.sanity )
                                return '<input type="checkbox" disabled>';
                            else
                                return '<input type="checkbox">';
                        }
                    },
                    { "data": "date" },
                    { "data": "rel" },
                    { "data": "prb" },
                    { "data": "env" },
                    { "data": "content" },
                    { "data": "comment" }
                ],
                "order": [1, "asc"],
                "rowCallback": function(row, data, index) {
                    var row_id = data.id;

                    if ( 1 === data.sanity )
                        $(row).addClass('sanity');
                    else if ( 0 <= find_in_array(row_id, selected_rows) )
                    {
                        $(row).find('input[type="checkbox"]').prop('checked', true);
                        $(row).addClass('selected');
                    }
                }
            });

            /* This is mostly needed to avoid issues when the user swaps
             * between table pages. When a new page displayed, this will
             * update the checkbox states */
            freeze_table.on('draw', function()
            {
                updateSelectAllState(freeze_table);
            });

            $('#freeze_table tbody').on('click', 'input[type="checkbox"]', function(event)
            {
                console.log("CLICKED!", $(this), $(this).prop("checked"), this.checked, $(this).prop("disabled"));
                var $row = $(this).closest('tr');
                var row_data = freeze_table.row($row).data();

                var index = find_in_array(row_data.id, selected_rows);

                //$(this)[0] === this

                // Store or remove the selected row's id.
                if (this.checked && -1 === index)
                    selected_rows.push(row_data.id);
                else if (!this.checked && -1 !== index)
                    selected_rows.splice(index, 1);

                if (this.checked)
                    $row.addClass('selected');
                else
                    $row.removeClass('selected');

                updateSelectAllState(freeze_table);

                event.stopPropagation();
            });

            $('#freeze_table').on("click", "tbody tr td:first-child, thead th:first-child", function(event)
            {
                $(this).parent().find('input[type="checkbox"]').trigger('click');
                event.stopPropagation();
            });

            $('#freeze_table thead input[name="select_all"]').on("click", function(event)
            {
                if (this.checked)
                    $('#freeze_table tbody input[type="checkbox"]:not(:checked)').trigger('click');
                else
                    $('#freeze_table tbody input[type="checkbox"]:checked').trigger('click');

                event.stopPropagation();
            });

            function find_in_sanitydataset(value)
            {
                var sanityDataSet = sanity_table.rows().data();

                for (var i = 0, len = sanityDataSet.length; i < len; i++)
                {
                    if (sanityDataSet[i].id === value)
                        return i;
                }

                return -1;
            }

            $('#create_sanity').on('click', function(event)
            {
                //var button = this;

                var newSanityData = [];
                var $selectedRows = $('#freeze_table tbody tr').filter(':has(:checkbox:checked)');

                for (var i = 0, len = $selectedRows.length; i < len; i++)
                {
                    var row_data = freeze_table.row($selectedRows[i]).data();

                    //TODO: maybe the client should be super stupid as a guideline
                    // and the server should do all the thinking
                    // there is no need for this checking then,
                    // just send everything to the server
                    // and it will send back each sanity div/table's full content
                    //
                    if ( -1 === find_in_sanitydataset(row_data.id))
                    {
                        var data = new Object();
                        data.id      = row_data.id;
                        data.status  = row_data.id;
                        data.rel     = row_data.rel;
                        data.prb     = row_data.prb;
                        data.env     = row_data.env;
                        data.content = row_data.content;
                        data.comment = row_data.comment;
                        data.sanity  = 1;
                        newSanityData.push(data);

                        window.alert("TODO");
                        //TODO this should be done after ajax save
                        // can use the ok.ajax file for testing for now
                        // just to set up the ajax query.
                        // fill in the data, send it via ajax, on success add data to the sanity divs/tables
                        // and disable the rows/uncheck things
                        // this has to be moved outside of this loop for this into a separate loop?
                        row_data.sanity = 1;

                    }
                }

                $($selectedRows).addClass('sanity').find('td:first input[type="checkbox"]')
                    .trigger("click")
                    .prop("disabled", "disabled");

                //TODO
                // ALso instead of a sanity data table, have a separate info box (based on data.rel string for title
                // for each release with it's own
                // list of added freezes. + ability to add/remove from this list (also updates the freeze table)

                // Once the sanity is completed, update the flag of the freeze table row, hide it in the table, save it
                // in the db, and next time dont even return it to the client (unless specifically asked for it)

                sanity_table.rows.add(newSanityData).draw();
                event.stopPropagation();
            });
        });
    </script>
  </body>
</html>